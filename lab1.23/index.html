<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Лабораторна робота 1.23 - Мова та день тижня</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        
        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .task-title {
            font-size: 1.3em;
            color: #2c3e50;
            margin-top: 0;
            margin-bottom: 15px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 8px;
        }
        
        .task-description {
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .button-container {
            text-align: center;
            margin: 20px 0;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .code-block {
            background-color: #f9f9f9;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin-bottom: 20px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            overflow-x: auto;
        }
        
        .result {
            background-color: #e8f4f8;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
        }
        
        .result h3 {
            margin-top: 0;
            color: #2980b9;
        }
        
        .back-link {
            display: block;
            margin-top: 30px;
            text-align: center;
            color: #3498db;
            text-decoration: none;
        }
        
        .back-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <h1>Лабораторна робота 1.23</h1>
    
    <div class="card">
        <h2 class="task-title">Завдання 1: Вибір мови та день тижня</h2>
        <div class="task-description">
            <p>Створити модульне вікно, яке задає питання "Виберіть мову "ua" або "en"?". Якщо мова введена не правильно (не "ua" чи "en"), виводиться повідомлення про неправильний ввід даних і запитання повторюється повторно. Позначення відповідних мов повинні не залежати від регістра літер.</p>
            <p>В залежності від вибраної мови, в новому модульному вікні задається наступне питання "Введіть номер дня неділі від 1 до 7?" чи "Enter the day number of the week (from 1 to 7)?". Якщо введене перевищує заданий діапазон, виводиться повідомлення про неправильний ввід даних запитання повторюється повторно.</p>
            <p>В результаті повинно з'явитись модульне вікно в якому на відповідній мові виводиться день неділі, в залежні від отриманого числа. Всю інформація про мову, день тижня береться з одного об'єкту.</p>
        </div>
        
        <div class="code-block">// Об'єкт з даними про дні тижня на різних мовах
const daysOfWeek = {
    ua: [
        "Понеділок",
        "Вівторок",
        "Середа",
        "Четвер",
        "П'ятниця",
        "Субота",
        "Неділя"
    ],
    en: [
        "Monday",
        "Tuesday",
        "Wednesday",
        "Thursday",
        "Friday",
        "Saturday",
        "Sunday"
    ],
    messages: {
        ua: {
            langPrompt: "Виберіть мову 'ua' або 'en'?",
            langError: "Мова введена неправильно. Введіть 'ua' або 'en'.",
            dayPrompt: "Введіть номер дня тижня від 1 до 7?",
            dayError: "Неправильний номер дня. Введіть число від 1 до 7.",
            result: "День тижня:"
        },
        en: {
            langPrompt: "Choose language 'ua' or 'en'?",
            langError: "Language entered incorrectly. Enter 'ua' or 'en'.",
            dayPrompt: "Enter the day number of the week (from 1 to 7)?",
            dayError: "Invalid day number. Enter a number from 1 to 7.",
            result: "Day of the week:"
        }
    }
};</div>
        
        <div class="button-container">
            <button id="startTask1">Запустити програму</button>
        </div>
        
        <div class="result" id="result1">
            <h3>Результат виконання</h3>
            <div id="resultContent1">
                Натисніть кнопку, щоб запустити програму.
            </div>
        </div>
    </div>
    
    <div class="card">
        <h2 class="task-title">Завдання 2: Електрична мережа</h2>
        <div class="task-description">
            <p>В одному місті є електрична мережа. До неї можуть бути підключені:</p>
            <ul>
                <li>електростанції, виробляють потужність від 1 до 100 мегават;</li>
                <li>сонячні панелі, генерують від 1 до 5 мегават днем (в залежності від виду панелі, тобто деякі панелі генерують 1 мегават, деякі 2 і так далі) і 0 вночі.</li>
                <li>житлові будинки, в них від 1 до 400 квартир, споживають 4 кВт на квартиру вдень і 1 кВт вночі.</li>
                <li>лінії електропередачі, що ведуть у інші міста, по ним може подаватися відсутня або віддаватися зайва енергія. У ліній є властивість «потужність», яка визначає, скільки мегават можна передати по ній, а також «ціна мегавата», яке показує скільки можна отримати або доведеться заплатити за переданий/отриманий мегават. На різних лініях може бути різна ціна.</li>
            </ul>
            <p>Дано список всіх елементів електромережі. Напишіть програму, яка вираховує, скільки електрики необхідно закупити (чи можна продати) вдень і вночі для забезпечення балансу і скільки це буде коштувати (або принесе прибутку).</p>
        </div>
        
        <div class="code-block">// Базовий клас для всіх елементів електромережі
class PowerGridElement {
    constructor(name) {
        this.name = name;
    }
    
    getDayPower() {
        return 0; // Буде перевизначено в підкласах
    }
    
    getNightPower() {
        return 0; // Буде перевизначено в підкласах
    }
}

// Електростанція
class PowerPlant extends PowerGridElement {
    constructor(name, power) {
        super(name);
        this.power = power; // Потужність у мегаватах
    }
    
    getDayPower() {
        return this.power;
    }
    
    getNightPower() {
        return this.power;
    }
}

// Сонячна панель
class SolarPanel extends PowerGridElement {
    constructor(name, power) {
        super(name);
        this.power = power; // Потужність у мегаватах при денному світлі
    }
    
    getDayPower() {
        return this.power;
    }
    
    getNightPower() {
        return 0; // Вночі панелі не генерують електрику
    }
}

// Житловий будинок
class ResidentialBuilding extends PowerGridElement {
    constructor(name, apartments) {
        super(name);
        this.apartments = apartments;
    }
    
    getDayPower() {
        return -(this.apartments * 4) / 1000; // 4 кВт на квартиру, конвертуємо в мегавати
    }
    
    getNightPower() {
        return -(this.apartments * 1) / 1000; // 1 кВт на квартиру, конвертуємо в мегавати
    }
}

// Лінія електропередачі
class PowerLine extends PowerGridElement {
    constructor(name, capacity, pricePerMw) {
        super(name);
        this.capacity = capacity; // Потужність лінії в мегаватах
        this.pricePerMw = pricePerMw; // Ціна за мегават
    }
}

// Клас для аналізу електромережі
class PowerGridAnalyzer {
    constructor(elements, powerLines) {
        this.elements = elements;
        this.powerLines = powerLines;
    }
    
    analyze() {
        // Розрахунок денного балансу
        const dayProduction = this.elements.reduce((total, element) => {
            return total + element.getDayPower();
        }, 0);
        
        // Розрахунок нічного балансу
        const nightProduction = this.elements.reduce((total, element) => {
            return total + element.getNightPower();
        }, 0);
        
        // Сортування ліній електропередачі за ціною (спочатку найдешевші для закупки, найдорожчі для продажу)
        const sortedLinesBuy = [...this.powerLines].sort((a, b) => a.pricePerMw - b.pricePerMw);
        const sortedLinesSell = [...this.powerLines].sort((a, b) => b.pricePerMw - a.pricePerMw);
        
        // Розрахунок для денного часу
        const dayResult = this.calculateTransfer(dayProduction, sortedLinesBuy, sortedLinesSell);
        
        // Розрахунок для нічного часу
        const nightResult = this.calculateTransfer(nightProduction, sortedLinesBuy, sortedLinesSell);
        
        return {
            day: dayResult,
            night: nightResult,
            total: {
                powerBalance: dayResult.powerBalance + nightResult.powerBalance,
                cost: dayResult.cost + nightResult.cost
            }
        };
    }
    
    calculateTransfer(production, sortedLinesBuy, sortedLinesSell) {
        let powerToTransfer = production;
        let totalCost = 0;
        
        if (powerToTransfer < 0) {
            // Нам потрібно закупити електрику
            for (const line of sortedLinesBuy) {
                if (powerToTransfer >= 0) break;
                
                const powerToBuy = Math.min(-powerToTransfer, line.capacity);
                powerToTransfer += powerToBuy;
                totalCost -= powerToBuy * line.pricePerMw;
            }
        } else {
            // Ми можемо продати надлишок електрики
            for (const line of sortedLinesSell) {
                if (powerToTransfer <= 0) break;
                
                const powerToSell = Math.min(powerToTransfer, line.capacity);
                powerToTransfer -= powerToSell;
                totalCost += powerToSell * line.pricePerMw;
            }
        }
        
        return {
            powerBalance: powerToTransfer,
            cost: totalCost
        };
    }
}</div>
        
        <div class="button-container">
            <button id="startTask2">Запустити демонстрацію</button>
        </div>
        
        <div class="result" id="result2">
            <h3>Результат виконання</h3>
            <div id="resultContent2">
                Натисніть кнопку, щоб запустити демонстрацію.
            </div>
        </div>
    </div>
    
    <a href="../index.html" class="back-link">Повернутися на головну</a>
    
    <script>
        // Завдання 1: Вибір мови та день тижня
        document.getElementById('startTask1').addEventListener('click', function() {
            const resultContent = document.getElementById('resultContent1');
            resultContent.innerHTML = '';
            
            // Об'єкт з даними про дні тижня на різних мовах
            const daysOfWeek = {
                ua: [
                    "Понеділок",
                    "Вівторок",
                    "Середа",
                    "Четвер",
                    "П'ятниця",
                    "Субота",
                    "Неділя"
                ],
                en: [
                    "Monday",
                    "Tuesday",
                    "Wednesday",
                    "Thursday",
                    "Friday",
                    "Saturday",
                    "Sunday"
                ],
                messages: {
                    ua: {
                        langPrompt: "Виберіть мову 'ua' або 'en'?",
                        langError: "Мова введена неправильно. Введіть 'ua' або 'en'.",
                        dayPrompt: "Введіть номер дня тижня від 1 до 7?",
                        dayError: "Неправильний номер дня. Введіть число від 1 до 7.",
                        result: "День тижня:"
                    },
                    en: {
                        langPrompt: "Choose language 'ua' or 'en'?",
                        langError: "Language entered incorrectly. Enter 'ua' or 'en'.",
                        dayPrompt: "Enter the day number of the week (from 1 to 7)?",
                        dayError: "Invalid day number. Enter a number from 1 to 7.",
                        result: "Day of the week:"
                    }
                }
            };
            
            // Функція для вибору мови
            function chooseLanguage() {
                let lang = prompt(daysOfWeek.messages.ua.langPrompt);
                
                // Якщо користувач натиснув "Скасувати"
                if (lang === null) {
                    resultContent.innerHTML += `<p>Операцію скасовано користувачем.</p>`;
                    return null;
                }
                
                // Нормалізуємо введену мову до нижнього регістру
                lang = lang.toLowerCase();
                
                // Перевіряємо, чи введена мова є валідною
                if (lang !== 'ua' && lang !== 'en') {
                    resultContent.innerHTML += `<p>❌ ${daysOfWeek.messages.ua.langError}</p>`;
                    return chooseLanguage();
                }
                
                resultContent.innerHTML += `<p>✅ Обрана мова: ${lang}</p>`;
                return lang;
            }
            
            // Функція для введення номера дня тижня
            function chooseDayNumber(lang) {
                const prompt_message = daysOfWeek.messages[lang].dayPrompt;
                let dayNum = prompt(prompt_message);
                
                // Якщо користувач натиснув "Скасувати"
                if (dayNum === null) {
                    resultContent.innerHTML += `<p>Операцію скасовано користувачем.</p>`;
                    return null;
                }
                
                // Перетворюємо введене значення в число
                dayNum = parseInt(dayNum);
                
                // Перевіряємо, чи введений номер дня є валідним
                if (isNaN(dayNum) || dayNum < 1 || dayNum > 7) {
                    resultContent.innerHTML += `<p>❌ ${daysOfWeek.messages[lang].dayError}</p>`;
                    return chooseDayNumber(lang);
                }
                
                resultContent.innerHTML += `<p>✅ Введений номер дня: ${dayNum}</p>`;
                return dayNum;
            }
            
            // Головна функція програми
            function start() {
                // Вибір мови
                const lang = chooseLanguage();
                if (lang === null) return;
                
                // Вибір номера дня
                const dayNum = chooseDayNumber(lang);
                if (dayNum === null) return;
                
                // Виведення результату
                const day = daysOfWeek[lang][dayNum - 1];
                const resultText = `${daysOfWeek.messages[lang].result} ${day}`;
                
                resultContent.innerHTML += `<p><strong>🎉 ${resultText}</strong></p>`;
                alert(resultText);
            }
            
            // Запуск програми
            start();
        });
        
        // Завдання 2: Електрична мережа
        document.getElementById('startTask2').addEventListener('click', function() {
            const resultContent = document.getElementById('resultContent2');
            resultContent.innerHTML = '';
            
            // Базовий клас для всіх елементів електромережі
            class PowerGridElement {
                constructor(name) {
                    this.name = name;
                }
                
                getDayPower() {
                    return 0; // Буде перевизначено в підкласах
                }
                
                getNightPower() {
                    return 0; // Буде перевизначено в підкласах
                }
            }

            // Електростанція
            class PowerPlant extends PowerGridElement {
                constructor(name, power) {
                    super(name);
                    this.power = power; // Потужність у мегаватах
                }
                
                getDayPower() {
                    return this.power;
                }
                
                getNightPower() {
                    return this.power;
                }
            }

            // Сонячна панель
            class SolarPanel extends PowerGridElement {
                constructor(name, power) {
                    super(name);
                    this.power = power; // Потужність у мегаватах при денному світлі
                }
                
                getDayPower() {
                    return this.power;
                }
                
                getNightPower() {
                    return 0; // Вночі панелі не генерують електрику
                }
            }

            // Житловий будинок
            class ResidentialBuilding extends PowerGridElement {
                constructor(name, apartments) {
                    super(name);
                    this.apartments = apartments;
                }
                
                getDayPower() {
                    return -(this.apartments * 4) / 1000; // 4 кВт на квартиру, конвертуємо в мегавати
                }
                
                getNightPower() {
                    return -(this.apartments * 1) / 1000; // 1 кВт на квартиру, конвертуємо в мегавати
                }
            }

            // Лінія електропередачі
            class PowerLine extends PowerGridElement {
                constructor(name, capacity, pricePerMw) {
                    super(name);
                    this.capacity = capacity; // Потужність лінії в мегаватах
                    this.pricePerMw = pricePerMw; // Ціна за мегават
                }
            }

            // Клас для аналізу електромережі
            class PowerGridAnalyzer {
                constructor(elements, powerLines) {
                    this.elements = elements;
                    this.powerLines = powerLines;
                }
                
                analyze() {
                    // Розрахунок денного балансу
                    const dayProduction = this.elements.reduce((total, element) => {
                        return total + element.getDayPower();
                    }, 0);
                    
                    // Розрахунок нічного балансу
                    const nightProduction = this.elements.reduce((total, element) => {
                        return total + element.getNightPower();
                    }, 0);
                    
                    // Сортування ліній електропередачі за ціною (спочатку найдешевші для закупки, найдорожчі для продажу)
                    const sortedLinesBuy = [...this.powerLines].sort((a, b) => a.pricePerMw - b.pricePerMw);
                    const sortedLinesSell = [...this.powerLines].sort((a, b) => b.pricePerMw - a.pricePerMw);
                    
                    // Розрахунок для денного часу
                    const dayResult = this.calculateTransfer(dayProduction, sortedLinesBuy, sortedLinesSell);
                    
                    // Розрахунок для нічного часу
                    const nightResult = this.calculateTransfer(nightProduction, sortedLinesBuy, sortedLinesSell);
                    
                    return {
                        day: dayResult,
                        night: nightResult,
                        total: {
                            powerBalance: dayResult.powerBalance + nightResult.powerBalance,
                            cost: dayResult.cost + nightResult.cost
                        }
                    };
                }
                
                calculateTransfer(production, sortedLinesBuy, sortedLinesSell) {
                    let powerToTransfer = production;
                    let totalCost = 0;
                    
                    if (powerToTransfer < 0) {
                        // Нам потрібно закупити електрику
                        for (const line of sortedLinesBuy) {
                            if (powerToTransfer >= 0) break;
                            
                            const powerToBuy = Math.min(-powerToTransfer, line.capacity);
                            powerToTransfer += powerToBuy;
                            totalCost -= powerToBuy * line.pricePerMw;
                        }
                    } else {
                        // Ми можемо продати надлишок електрики
                        for (const line of sortedLinesSell) {
                            if (powerToTransfer <= 0) break;
                            
                            const powerToSell = Math.min(powerToTransfer, line.capacity);
                            powerToTransfer -= powerToSell;
                            totalCost += powerToSell * line.pricePerMw;
                        }
                    }
                    
                    return {
                        powerBalance: powerToTransfer,
                        cost: totalCost
                    };
                }
            }
            
            // Створення елементів електромережі для демонстрації
            const elements = [
                new PowerPlant("ТЕС-1", 75),
                new PowerPlant("АЕС Південна", 100),
                new SolarPanel("Сонячна ферма 1", 3),
                new SolarPanel("Сонячна ферма 2", 5),
                new ResidentialBuilding("Житловий комплекс 'Сонячний'", 200),
                new ResidentialBuilding("Житловий комплекс 'Обрій'", 150),
                new ResidentialBuilding("Житловий комплекс 'Парковий'", 300)
            ];
            
            // Створення ліній електропередачі
            const powerLines = [
                new PowerLine("Лінія до міста А", 50, 2.5),
                new PowerLine("Лінія до міста Б", 30, 3.2),
                new PowerLine("Лінія до міста В", 20, 1.8)
            ];
            
            // Створення аналізатора та виконання аналізу
            const analyzer = new PowerGridAnalyzer(elements, powerLines);
            const result = analyzer.analyze();
            
            // Виведення інформації про елементи електромережі
            resultContent.innerHTML += '<h4>Елементи електромережі:</h4>';
            resultContent.innerHTML += '<ul>';
            
            elements.forEach(element => {
                let info = '';
                
                if (element instanceof PowerPlant) {
                    info = `Електростанція, потужність: ${element.power} МВт`;
                } else if (element instanceof SolarPanel) {
                    info = `Сонячна панель, денна потужність: ${element.power} МВт`;
                } else if (element instanceof ResidentialBuilding) {
                    info = `Житловий будинок, ${element.apartments} квартир`;
                }
                
                resultContent.innerHTML += `<li>${element.name} - ${info}</li>`;
            });
            
            resultContent.innerHTML += '</ul>';
            
            // Виведення інформації про лінії електропередачі
            resultContent.innerHTML += '<h4>Лінії електропередачі:</h4>';
            resultContent.innerHTML += '<ul>';
            
            powerLines.forEach(line => {
                resultContent.innerHTML += `<li>${line.name} - потужність: ${line.capacity} МВт, ціна: ${line.pricePerMw} грн/МВт</li>`;
            });
            
            resultContent.innerHTML += '</ul>';
            
            // Виведення результатів аналізу
            resultContent.innerHTML += '<h4>Результати аналізу:</h4>';
            
            // Денний результат
            resultContent.innerHTML += '<p><strong>День:</strong></p>';
            if (result.day.powerBalance < 0) {
                resultContent.innerHTML += `<p>Не вистачає ${Math.abs(result.day.powerBalance).toFixed(2)} МВт енергії</p>`;
            } else if (result.day.powerBalance > 0) {
                resultContent.innerHTML += `<p>Надлишок ${result.day.powerBalance.toFixed(2)} МВт енергії (не може бути переданий)</p>`;
            } else {
                resultContent.innerHTML += '<p>Ідеальний баланс енергії</p>';
            }
            
            if (result.day.cost > 0) {
                resultContent.innerHTML += `<p>Прибуток від продажу: ${result.day.cost.toFixed(2)} грн</p>`;
            } else {
                resultContent.innerHTML += `<p>Витрати на купівлю: ${Math.abs(result.day.cost).toFixed(2)} грн</p>`;
            }
            
            // Нічний результат
            resultContent.innerHTML += '<p><strong>Ніч:</strong></p>';
            if (result.night.powerBalance < 0) {
                resultContent.innerHTML += `<p>Не вистачає ${Math.abs(result.night.powerBalance).toFixed(2)} МВт енергії</p>`;
            } else if (result.night.powerBalance > 0) {
                resultContent.innerHTML += `<p>Надлишок ${result.night.powerBalance.toFixed(2)} МВт енергії (не може бути переданий)</p>`;
            } else {
                resultContent.innerHTML += '<p>Ідеальний баланс енергії</p>';
            }
            
            if (result.night.cost > 0) {
                resultContent.innerHTML += `<p>Прибуток від продажу: ${result.night.cost.toFixed(2)} грн</p>`;
            } else {
                resultContent.innerHTML += `<p>Витрати на купівлю: ${Math.abs(result.night.cost).toFixed(2)} грн</p>`;
            }
            
            // Загальний результат
            resultContent.innerHTML += '<p><strong>Загальний результат:</strong></p>';
            if (result.total.cost > 0) {
                resultContent.innerHTML += `<p>Загальний прибуток: ${result.total.cost.toFixed(2)} грн</p>`;
            } else {
                resultContent.innerHTML += `<p>Загальні витрати: ${Math.abs(result.total.cost).toFixed(2)} грн</p>`;
            }
        });
    </script>
</body>
</html> 